module InterfaceSerial(
	input reset,
	input clk,
	input[31:0] data_in,
	input control,
	input rx,
	output tx
);
	
	reg[31:0] FIFO_buffer[0:199];
	reg[7:0] insertion_position;
	reg[31:0] send_data;
	
	wire baud;
	wire busy;
	wire txd;
	wire dataReady;
	reg startBit;
	
	Transmitter transmitter(reset,startBit,send_data,baud,busy,txd);
	Receiver receiver(reset,rx,baud,data,dataReady);
	BaudRate_Generator baudRate(reset, clk, baud);
	
	always@(posedge control) begin
		if(reset == 1'b0) begin
			insertion_position <= 0;
			startBit <= 1'b1;
		end
		
		else begin
			send_data <= data_in;
			FIFO_buffer[insertion_position] <= data_in;
			if(insertion_position == 0)
				startBit <= 1'b0;
			insertion_position = insertion_position + 1;
		end
	end
	
	always@(negedge busy) begin
		
		
	end

endmodule