
module loopback2_tb;
	reg[0:39] package;
	reg reset,clk, rx;
	wire tx;
	integer i = -1;
	
	Loopback lb(reset,clk,rx,tx);

	initial begin
		package = 40'b0111111111011111111101111111110111111111;
		reset = 0;
		clk = 0;
		i = 0;
		rx = 1;
	end

	always begin
		#100
		clk = !clk;
		if($time >= 200) begin
			reset = 1;
			rx = package[i];
			if(!clk)
				i = i + 1;
		end
	end
endmodule